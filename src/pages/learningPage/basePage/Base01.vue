<script setup lang="ts">
import { onMounted, ref } from "vue";
import { Ion, Camera, Viewer, Rectangle } from "cesium";
import "cesium/Build/CesiumUnminified/Widgets/widgets.css";
import { CESIUM_TOKEN } from "@/const";

const viewerDivRef = ref<HTMLDivElement>();

/** cesium Token */
Ion.defaultAccessToken = CESIUM_TOKEN;

/** é»˜è®¤çŸ©å½¢è§†è§’å››è½´çš„ä½ç½® */
// Camera.DEFAULT_VIEW_RECTANGLE = Rectangle.fromDegrees(
//   89.5, // è¥¿ç»
//   20.4, // å—çº¬
//   110.4, // ä¸œç»
//   61.2 // åŒ—çº¬
// );

onMounted(() => {
  const viewer = new Viewer(viewerDivRef.value as HTMLElement, {
    // animation: false,
    // timeline: false,
    // infoBox: false, // ä¿¡æ¯æç¤ºæ¡†ä½¿ç”¨çš„ iframe è·¨åŸŸæŠ¥é”™
    // geocoder: false, // æœç´¢æ¡†
    // homeButton: false,
    // sceneModePicker: false, // æ§åˆ¶æŸ¥çœ‹èµ·çš„æ˜¾ç¤ºæ¨¡å¼
    // baseLayerPicker: false, // æ˜¯å¦æ˜¾ç¤ºå›¾å±‚é€‰æ‹©å™¨
    // navigationHelpButton: false, // å…³é—­å¸®åŠ©æŒ‰é’®
  });

  // éšè— logo
  // const creditContainer = viewer.cesiumWidget.creditContainer as HTMLElement;
  // creditContainer.style.display = "none";

  console.log("ğŸš€ ~ onMounted ~ viewer:", viewer);
});
</script>

<template>
  <div id="cesium-viewer" ref="viewerDivRef"></div>
</template>

<style scoped>
#cesium-viewer {
  width: 100%;
  height: 100%;
}
</style>

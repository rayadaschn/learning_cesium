import{d,r as y,o as _,a as m,c as v,b as w,e as h}from"./vendor-BaCN7PFH.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const T="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI5ZjNjY2MxNy1lZTA2LTQ0OWEtOGJhNi1kMGQ3YzBjMGI5YTIiLCJpZCI6ODU2NjMsImlhdCI6MTcxNzIyNzczM30.WMiuSvYIlG-j4iIuEMIT-NZ3Tq7SnP6SgSNG8TovLGs",u="3867badc8bba65784f3c7253d562e2a1",f=window.Cesium.WebMapTileServiceImageryProvider,I=window.Cesium.Ion,M=window.Cesium.Camera,L=window.Cesium.Viewer,O=window.Cesium.Rectangle,c=window.Cesium.Cartesian3,p=window.Cesium.Math,b=window.Cesium.createOsmBuildingsAsync,l=window.Cesium.Color,x=window.Cesium.LabelStyle,A=window.Cesium.Cartesian2,E=window.Cesium.HorizontalOrigin,D=window.Cesium.VerticalOrigin,N=window.Cesium.DistanceDisplayCondition,R=d({__name:"CurrentPage",setup(r){const i=y();I.defaultAccessToken=T,M.DEFAULT_VIEW_RECTANGLE=O.fromDegrees(89.5,20.4,110.4,61.2);const o=new f({url:`http://t0.tianditu.com/vec_w/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=vec&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default&format=tiles&tk=${u}`,layer:"tdtBasicLayer",style:"default",format:"image/jpeg",tileMatrixSetID:"GoogleMapsCompatible"}),n=new f({url:`http://t0.tianditu.com/img_w/wmts?service=wmts&request=GetTile&version=1.0.0&LAYER=img&tileMatrixSet=w&TileMatrix={TileMatrix}&TileRow={TileRow}&TileCol={TileCol}&style=default&format=tiles&tk=${u}`,layer:"tdtBasicLayer",style:"default",format:"image/jpeg",tileMatrixSetID:"GoogleMapsCompatible"});return _(async()=>{const e=new L(i.value,{animation:!1,timeline:!1,infoBox:!1,geocoder:!1,homeButton:!1,sceneModePicker:!1,baseLayerPicker:!1,navigationHelpButton:!1}),t=e.cesiumWidget.creditContainer;t.style.display="none",e.imageryLayers.addImageryProvider(o);const s=e.imageryLayers.addImageryProvider(n);s.alpha=.5;const g=c.fromDegrees(116.39,39.85,2e3);e.camera.setView({destination:g,orientation:{heading:p.toRadians(0),pitch:p.toRadians(-20),roll:0}}),document.addEventListener("keydown",function(C){const a=e.camera.positionCartographic.height/100;switch(C.key){case"ArrowUp":console.log("向上键被按下"),e.camera.moveForward(a);break;case"ArrowDown":console.log("向下键被按下"),e.camera.moveBackward(a);break;case"ArrowLeft":console.log("向左键被按下"),e.camera.moveLeft(a);break;case"ArrowRight":console.log("向右键被按下"),e.camera.moveRight(a);break}}),e.scene.primitives.add(await b()),e.entities.add({position:c.fromDegrees(116.3904,39.906,20),label:{text:" 天安门",font:"24px sans-serif",fillColor:l.WHITE,outlineColor:l.BLACK,outlineWidth:4,style:x.FILL_AND_OUTLINE,pixelOffset:new A(0,-24),horizontalOrigin:E.CENTER,verticalOrigin:D.BOTTOM}}),e.entities.add({name:"Airplane",position:c.fromDegrees(116.3904,39.906,1500),model:{uri:"./model/Air.glb",minimumPixelSize:128,silhouetteSize:1,silhouetteColor:l.WHITE,distanceDisplayCondition:new N(0,2e5)}})}),(e,t)=>(m(),v("div",{id:"cesium-viewer",ref_key:"viewerDivRef",ref:i},null,512))}}),P=(r,i)=>{const o=r.__vccOpts||r;for(const[n,e]of i)o[n]=e;return o},S=P(R,[["__scopeId","data-v-4faee2f0"]]),k=d({__name:"index",setup(r){return(i,o)=>(m(),w(S))}}),B=d({__name:"App",setup(r){return(i,o)=>(m(),w(k))}});h(B).mount("#app");
